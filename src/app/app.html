<h3>{{ title() }}</h3>

<!--zoneless sistem-->

<!--

<ul>
  @for(category of categories();track category.Id){
  //Json'dan gelen dosyanın propertylerine dikkat ediniz...
  <li>{{ category.id }} - {{ category.categoryName }}</li>
  }
</ul>
-->
<hr />

<table>
  <tr>
    <th>Id</th>
    <th>İsim</th>
    <th>Acıklama</th>
    <th>İşlemler</th>
  </tr>
  @for(category of categories();track category.Id){
  <tr>
    <td>{{ category.id }}</td>
    <td>{{ category.categoryName }}</td>
    <td>{{ category.description }}</td>
    <td>
      <button (click)="editCategory(category)">Güncelle</button>
      <button (click)="deleteCategory(category.id)">Sil</button>
    </td>
  </tr>
  }
</table>

<!--  ======================  -->

<h4>Yeni Kategori Ekle</h4>

<form (submit)="addCategory($event)">
  <!--Kategori ismi input'u-->
  <input
    type="text"
    placeholder="Kategori İsmi"
    [value]="newCategoryName()"
    (input)="onNewCategoryNameChange($event)"
  />

  <!--Acıklama input'u-->
  <input
    type="text"
    placeholder="Acıklama"
    [value]="newCategoryDescription()"
    (input)="onNewCategoryDescriptionChange($event)"
  />

  <button type="submit">Ekle</button>
</form>

<hr />

<!--Edit Formu-->
<!--todo : modern if gösterilecek-->

<div *ngIf="selectedCategory() as cat">
  <h4>Kategori güncelle (Id: {{ cat.id }})</h4>

  <form (submit)="updateCategory($event)">
    <input type="text" [value]="cat.categoryName" (input)="onEditNameChange($event)" />

    <input type="text" [value]="cat.description" (input)="onEditDescriptionChange($event)" />

    <button type="submit">Kaydet</button>
    <button type="button" (click)="cancelEdit()">İptal</button>

  </form>
</div>
